--- a/bbswitch.c
+++ b/bbswitch.c
@@ -26,6 +26,10 @@ MODULE_DESCRIPTION("Toggle the discrete graphics card");
 MODULE_AUTHOR("Peter Lekensteyn <lekensteyn@gmail.com>");
 MODULE_VERSION(BBSWITCH_VERSION);
 
+#ifndef pr_warn
+#   define pr_warn pr_warning
+#endif
+
 enum {
     CARD_UNCHANGED = -1,
     CARD_OFF = 0,
