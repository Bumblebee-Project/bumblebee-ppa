--- rr/rrfakerut.cpp	2011/08/13 06:28:27	1.47
+++ rr/rrfakerut.cpp	2011/08/15 07:51:18	1.48
@@ -1173,10 +1173,9 @@
 		getcfgattrib(c, GLX_RENDER_TYPE, render_type);
 		render_type=(render_type==GLX_COLOR_INDEX_BIT)? GLX_COLOR_INDEX_TYPE:GLX_RGBA_TYPE;
 		fbcid=cfgid(dpy, c);
-		int attribs[]={GLX_RENDER_TYPE, render_type, 0};
 
-		if(!(ctx=glXCreateContextAttribsARB(dpy, c, NULL, True, attribs)))
-			_error("glXCreateContextAttribsARB");
+		if(!(ctx=glXCreateNewContext(dpy, c, render_type, NULL, True)))
+			_error("glXCreateNewContext");
 		temp=-20;
 		glXQueryContext(dpy, ctx, GLX_FBCONFIG_ID, &temp);
 		if(temp!=fbcid) _error("glXQueryContext FB cfg ID");
